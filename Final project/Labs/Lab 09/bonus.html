<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Employee Data Toggle</title>
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 6px;
        }
    </style>
</head>

<body>
    <h2>Employee Data (Toggle Version)</h2>

    <button id="toggleBtn" onclick="toggleTable()">Get Employee Data</button>
    <br><br>

    <table id="employeeTable" style="display:none;"></table>

    <script>
        let tableVisible = false;

        function toggleTable() {
            const table = document.getElementById("employeeTable");
            const button = document.getElementById("toggleBtn");

            if (!tableVisible) {
                // Show table + load data
                loadXML();
                table.style.display = "table";
                button.textContent = "Close Employee Data";
            } else {
                // Hide table
                table.style.display = "none";
                button.textContent = "Get Employee Data";
            }

            tableVisible = !tableVisible;
        }

        function loadXML() {
            let xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState === 4 && this.status === 200) {
                    loadTable(this);
                }
            };
            xhttp.open("GET", "employee.xml", true);
            xhttp.send();
        }

        function loadTable(xml) {
            let xmlDoc = xml.responseXML;
            let table = "<tr><th>ID</th><th>Name</th><th>Room</th></tr>";
            let employees = xmlDoc.getElementsByTagName("employee");

            for (let i = 0; i < employees.length; i++) {
                let id = employees[i].getElementsByTagName("id")[0].childNodes[0].nodeValue;
                let name = employees[i].getElementsByTagName("name")[0].childNodes[0].nodeValue;
                let room = employees[i].getElementsByTagName("room")[0].childNodes[0].nodeValue;

                table += `<tr><td>${id}</td><td>${name}</td><td>${room}</td></tr>`;
            }

            document.getElementById("employeeTable").innerHTML = table;
        }
    </script>

</body>
</html>